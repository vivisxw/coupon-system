<!DOCTYPE html>
<html>
<head>
    <title>æ ¸é”€å…¥å£</title>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 50px; }
        .card {
            max-width: 400px;
            margin: 0 auto;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        a.button {
            display: block;
            margin: 20px 0;
            padding: 15px;
            background: #1890ff;
            color: white;
            text-decoration: none;
            border-radius: 6px;
            font-size: 18px;
        }
        a.button:hover { background: #40a9ff; }
    </style>
</head>
<body>
    <div class="card">
        <h2>ç¤¼ç›’åˆ¸æ ¸é”€</h2>
        <p><strong>æ¨èä½¿ç”¨æ‰«ç å·¥å…·</strong>ï¼Œé«˜æ•ˆå‡†ç¡®ã€‚</p>
        <a href="scan.html" class="button">ğŸš€ æ‰“å¼€ä¸“ä¸šæ‰«ç æ ¸é”€å·¥å…·</a>
        <p><strong>æˆ–</strong> ç»§ç»­ä½¿ç”¨æ‰‹åŠ¨æ ¸é”€ï¼š</p>
        <input type="text" id="code" placeholder="è¾“å…¥12ä½æ ¸é”€ç " style="padding:10px; width:80%;">
        <button onclick="verify()" style="padding:10px 20px; margin-top:10px;">æ‰‹åŠ¨æ ¸é”€</button>
        <div id="result" style="margin-top:20px;"></div>
    </div>
    <script>
        // ä¿ç•™åŸæœ‰çš„æ‰‹åŠ¨æ ¸é”€åŠŸèƒ½
        async function verify() {
            const code = document.getElementById('code').value.trim();
            if(code.length !== 12){ alert('æ ¸é”€ç åº”ä¸º12ä½'); return; }
            const res = await fetch('/api/verify-coupon', {
                method: 'POST',
                headers: {'Content-Type':'application/json'},
                body: JSON.stringify({couponId:code})
            });
            const data = await res.json();
            const r = document.getElementById('result');
            r.innerHTML = data.success ? 
                `<div style="color:green;">âœ“ æ ¸é”€æˆåŠŸï¼å‘˜å·¥ï¼š${data.employeeName}</div>` :
                `<div style="color:red;">âœ— ${data.message}</div>`;
        }
    </script>
</body>
</html>
